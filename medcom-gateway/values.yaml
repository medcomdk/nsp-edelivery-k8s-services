service:
  fullnameOverride: medcom-gateway
  namespace: nsptest
  replicaCount: 1

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
    hosts:
      - host: medcom-gateway.nsptest.medcom.dk
        paths:
          - path:
    tls:
      - hosts:
          - medcom-gateway.nsptest.medcom.dk
        secretName: medcom-gateway.nsptest.medcom.dk

  image:
    repository: trifork/medcom-gateway
    tag: "0.0.1.a"

  serviceAccount:
    create: false

  deployment:
    containerPort: 8080
    env:
      SPRING_ACTIVEMQ_BROKERURL: "vm://embedded?broker.persistent=false,useShutdownHook=false"
      SPRING_ACTIVEMQ_USER: admin
      SPRING_ACTIVEMQ_PASSWORD: admin
      SPRING_ACTIVEMQ_INMEMORY: true

  service:
    port: 8080
    targetPort: container-port

  certificate:
    medcom-gateway.nsptest.medcom.dk:
      namespace: nsptest
      spec:
        secretName: medcom-gateway.nsptest.medcom.dk
        issuerRef:
          name: letsencrypt-prod
          kind: ClusterIssuer
          group: cert-manager.io
        dnsNames:
          - medcom-gateway.nsptest.medcom.dk
